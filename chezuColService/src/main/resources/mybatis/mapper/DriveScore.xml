<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.idata365.col.mapper.DriveScoreMapper">
    <resultMap id="driveScoreMap" type="com.idata365.col.entity.DriveScore" >
        
    </resultMap>

    <insert id="insertScore" useGeneratedKeys="true" keyProperty="id" parameterType="com.idata365.col.entity.DriveScore" >
       INSERT ignore INTO 
            driveScore
            (driveDataMainId,tiredDrivingScore,nightDrivingScore,maxSpeedScore,overSpeedScore,brakeScore,speedUpScore,turnScore,
            distanceScore,phonePlayScore,userId,habitId,taskFlag,calStatus) 
        VALUES
            (#{driveDataMainId}, #{tiredDrivingScore},#{nightDrivingScore}, #{maxSpeedScore}, #{overSpeedScore}, 
            #{brakeScore}, #{speedUpScore},#{turnScore}, #{distanceScore}, #{phonePlayScore}, #{userId}, #{habitId}
            , #{taskFlag}, #{calStatus})
        ON DUPLICATE KEY UPDATE 
        tiredDrivingScore=#{tiredDrivingScore},
        nightDrivingScore=#{nightDrivingScore},
         maxSpeedScore=#{maxSpeedScore},
         overSpeedScore=#{overSpeedScore},
       brakeScore=#{brakeScore},
          speedUpScore=#{speedUpScore},
          turnScore=#{turnScore}, 
         distanceScore= #{distanceScore}, 
         phonePlayScore= #{phonePlayScore},
        calStatus=1; 
    </insert>
     <insert id="insertScoreUB" useGeneratedKeys="true" keyProperty="id" parameterType="com.idata365.col.entity.DriveScore" >
       INSERT ignore INTO 
            driveScore
            (driveDataMainId,userId,habitId,taskFlag,calStatus) 
        VALUES
            (#{driveDataMainId}, #{userId}, #{habitId}
            , #{taskFlag}, #{calStatus})
    </insert>
</mapper>
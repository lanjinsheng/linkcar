<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.idata365.col.mapper.UploadDataStatusMapper">

    <insert id="insertUploadDataStatus" useGeneratedKeys="true" keyProperty="id" parameterType="com.idata365.col.entity.UploadDataStatus" >
       INSERT INTO 
            uploadDataStatus
            (userId,habitId,createTime,scanStatus,hadSensorData) 
        VALUES
            (#{userId}, #{habitId},#{createTime},#{scanStatus},#{hadSensorData})
    </insert>
 
 
     <update id="updateSensorUploadStatus" parameterType="com.idata365.col.entity.UploadDataStatus" >
       UPDATE 
            uploadDataStatus 
       SET 
       sensorUploadStatus=1,sensorUploadTime=now()
       WHERE 
            userId = #{userId} and habitId=#{habitId}
    </update>
 
    <select id="getUploadDataStatus"  resultType="java.util.HashMap" parameterType="java.util.HashMap">
		SELECT *  from uploadDataStatus where scanStatus=0
	</select>
</mapper>
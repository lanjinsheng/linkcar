<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.idata365.app.mapper.UserLivenessLogMapper">


    <select id="getLiveness" resultType="com.idata365.app.entity.v2.DicLiveness">
  	  select * from dicLiveness
    </select>


    <insert id="insertUserLivenessLog" parameterType="java.util.HashMap">
             insert into userLivenessLog
             (userId, livenessId, eventTime,livenessName,livenessValue)
              values (#{userId},#{livenessId},#{eventTime},#{livenessName},#{livenessValue})

  </insert>

    <select id="getUserLivenessLog" resultType="java.util.HashMap">
  	  select * from userLivenessLog where userId=#{userId} and date(eventTime)=date(now())
    </select>

    <select id="getTodayCountById" resultType="java.lang.Integer">
  	  select count(1) from userLivenessLog where userId=#{userId} and date(eventTime)=date(now()) and livenessId=#{livenessId}
    </select>

</mapper>